{"version":3,"sources":["webpack:///webpack/bootstrap 1648ca9a3a6cfbd8ef05","webpack:///./src/index.js","webpack:///./src/Swipe.js","webpack:///./src/utils.js","webpack:///./src/PubSub.js","webpack:///./src/ElementFactory.js","webpack:///./src/ScreenWatcher.js","webpack:///./src/ContentController.js","webpack:///./src/DataService.js"],"names":["App","pubSub","screenWatcher","elementFactory","dataService","wrapper","createWrapper","videoWrapper","querySelector","document","body","appendChild","contentController","swipe","getScreenWidth","window","app","start","Swipe","slideWidth","currentPageNumber","mouseDownPosition","mouseDownMargin","moveSlideHandler","bind","mousedownHandler","mouseUpHandler","pageClickHandler","pagging","saveLinksToDOMElement","bindEvents","calculatePagesCount","footerNavUl","pageFooter","addEventListener","on","width","removeEventListener","setTimeout","pagesCount","Math","ceil","children","length","e","target","nodeName","clientX","targetTouches","parseInt","marginLeft","style","transition","mouseMovePosition","positionDifference","margin","currentMargin","slideNumber","floor","marginLimit","controlLimit","turnPage","classList","contains","trigger","innerHTML","pageNumber","nextPageMargin","prevPageMargin","childElementCount","firstChild","parentNode","remove","round","abs","pageNumberListItems","add","i","getStyle","elem","getComputedStyle","currentStyle","createElem","tagName","text","classNames","tmp","createElement","textNode","createTextNode","PubSub","subscriptions","eventName","handler","push","args","forEach","item","apply","index","indexOf","splice","ElementFactory","createHeader","createMain","createFooter","header","nav","ul","liSearch","liBookmarks","liHistory","footer","main","inputWrapper","span","input","setAttribute","data","IDs","article","id","videoId","img","divDefinition","videoTitle","snippet","title","authorBox","author","channelTitle","videoDate","publishedAt","slice","videoDescription","description","divViews","statistics","viewCount","divLikes","likeCount","divBookmark","viewsIcon","likesIcon","bookmarkIcon","insertBefore","thumbnails","medium","url","articles","fragment","createDocumentFragment","createVideoInfo","localStorage","getItem","createSearchListItem","history","JSON","parse","reverse","li","searchText","searchData","createArticles","ScreenWatcher","resizeHandler","screenWidth","outerWidth","ContentController","videoWrapperContent","currentPageClass","pageMargin","inputSearchHandler","inputKeypressHandler","searchHistoryClickHandler","searchNowClickHandler","bookmarksClickHandler","addToBookmarkHandler","searchFormHistoryHandler","openYouTubeVideo","inputWrapperSpanElement","searchElement","currentPage","totalPage","getItems","searchValue","nextPageToken","then","items","youTubeBookmarks","pageFooterElement","inputElement","keyCode","clickEvent","Event","dispatchEvent","saveVideoWrapperContent","className","removeChild","clearContent","createSearchHistoryList","loadBookmarks","videoIDs","getVideoInfoById","createBookmarksList","val","nextElementSibling","value","createNoSearchResultMessage","youTubeSearchHistory","Date","toString","substr","setItem","stringify","toggle","previousElementSibling","click","open","DataService","nextPage","Promise","resolve","reject","xhr","XMLHttpRequest","send","onreadystatechange","readyState","responseText","idMovies","part","getVideoInfoByQuery","ids","map","_data","_items"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1648ca9a3a6cfbd8ef05","import Swipe from './Swipe.js';\r\nimport PubSub from './PubSub.js';\r\nimport ElementFactory from './ElementFactory.js';\r\nimport ScreenWatcher from './ScreenWatcher.js';\r\nimport ContentController from './ContentController.js';\r\nimport DataService from './DataService.js';\r\nimport {createElem} from './utils.js';\r\n\r\nclass App {\r\n    constructor() {\r\n        this.pubSub = new PubSub();\r\n        this.screenWatcher = new ScreenWatcher(this.pubSub);\r\n        this.elementFactory = new ElementFactory();\r\n        this.dataService = new DataService();\r\n    }\r\n\r\n    start() {\r\n        const wrapper = this.elementFactory.createWrapper();\r\n        const videoWrapper = wrapper.querySelector('.video-wrapper');\r\n        document.body.appendChild(wrapper);\r\n        this.contentController = new ContentController(\r\n            this.elementFactory,\r\n            this.dataService,\r\n            videoWrapper,\r\n            this.pubSub\r\n        );\r\n        this.swipe = new Swipe(this.screenWatcher.getScreenWidth(), videoWrapper, this.pubSub);\r\n    }\r\n}\r\n\r\nwindow.app = new App();\r\n\r\nwindow.app.start();\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import {getStyle} from './utils.js';\r\n\r\nclass Swipe {\r\n    constructor(slideWidth, videoWrapper, pubSub) {\r\n        this.pubSub = pubSub;\r\n        this.videoWrapper = videoWrapper;\r\n        this.slideWidth = slideWidth;\r\n        this.currentPageNumber = 0;\r\n        this.mouseDownPosition = null;\r\n        this.mouseDownMargin = null;\r\n        this.moveSlideHandler = this.moveSlideHandler.bind(this);\r\n        this.mousedownHandler = this.mousedownHandler.bind(this);\r\n        this.mouseUpHandler = this.mouseUpHandler.bind(this);\r\n        this.pageClickHandler = this.pageClickHandler.bind(this);\r\n        this.pagging = this.pagging.bind(this);\r\n        this.saveLinksToDOMElement();\r\n        this.bindEvents();\r\n        this.calculatePagesCount();\r\n    }\r\n\r\n    saveLinksToDOMElement() {\r\n        this.footerNavUl = document.querySelector('.footer-nav ul');\r\n        this.pageFooter = document.querySelector('.page-footer');\r\n    }\r\n\r\n    bindEvents() {\r\n        this.footerNavUl.addEventListener('click', this.pageClickHandler);\r\n        document.body.addEventListener('mousedown', this.mousedownHandler);\r\n        document.body.addEventListener('mouseup', this.mouseUpHandler);\r\n        document.body.addEventListener('touchstart', this.mousedownHandler);\r\n        document.body.addEventListener('touchend', this.mouseUpHandler);\r\n        this.pubSub.on('ScreenWatcher:changeWidth', (width) => {\r\n            this.slideWidth = width;\r\n            this.calculatePagesCount();\r\n            this.pagging();\r\n        });\r\n        this.pubSub.on('ContentController:searchHistory', () => {\r\n            document.body.removeEventListener('mousedown', this.mousedownHandler);\r\n            document.body.removeEventListener('mouseup', this.mouseUpHandler);\r\n            document.body.removeEventListener('touchstart', this.mousedownHandler);\r\n            document.body.removeEventListener('touchend', this.mouseUpHandler);\r\n        });\r\n        this.pubSub.on('ContentController:searchNow', () => {\r\n            document.body.addEventListener('mousedown', this.mousedownHandler);\r\n            document.body.addEventListener('mouseup', this.mouseUpHandler);\r\n            document.body.addEventListener('touchstart', this.mousedownHandler);\r\n            document.body.addEventListener('touchend', this.mouseUpHandler);\r\n            this.calculatePagesCount();\r\n            setTimeout(this.pagging, 500);\r\n        });\r\n        this.pubSub.on('ContentController:newArticles', () => {\r\n            this.calculatePagesCount();\r\n            setTimeout(this.pagging, 500);\r\n        });\r\n    }\r\n\r\n    calculatePagesCount() {\r\n        this.pagesCount = Math.ceil(this.videoWrapper.children.length * 365 / this.slideWidth - 1);\r\n    }\r\n\r\n    mousedownHandler(e) {\r\n        if (e.target.nodeName === 'INPUT') {\r\n            return;\r\n        }\r\n        if (e.clientX) {\r\n            this.mouseDownPosition = e.clientX;\r\n            document.body.addEventListener('mousemove', this.moveSlideHandler);\r\n        } else {\r\n            this.mouseDownPosition = e.targetTouches[0].clientX;\r\n            document.body.addEventListener('touchmove', this.moveSlideHandler);\r\n        }\r\n        this.mouseDownMargin = parseInt(getStyle(this.videoWrapper).marginLeft);\r\n    }\r\n\r\n    moveSlideHandler(e) {\r\n        this.videoWrapper.style.transition = 'none';\r\n        const mouseMovePosition = e.clientX || e.targetTouches[0].clientX;\r\n        const positionDifference = mouseMovePosition - this.mouseDownPosition;\r\n        const margin = this.mouseDownMargin + positionDifference;\r\n        this.videoWrapper.style.marginLeft = `${margin}px`;\r\n    }\r\n\r\n    mouseUpHandler(e) {\r\n        if (e.target.nodeName === 'INPUT') {\r\n            return;\r\n        }\r\n        this.calculatePagesCount();\r\n        this.videoWrapper.style.transition = '0.5s';\r\n        const currentMargin = parseInt(getStyle(this.videoWrapper).marginLeft);\r\n        this.slideNumber = Math.floor(currentMargin / this.slideWidth);\r\n        const marginLimit = -(this.slideWidth * this.pagesCount);\r\n        this.controlLimit(currentMargin, marginLimit);\r\n        this.turnPage(currentMargin, marginLimit);\r\n        document.body.removeEventListener('mousemove', this.moveSlideHandler);\r\n        document.body.removeEventListener('touchmove', this.moveSlideHandler);\r\n        setTimeout(this.pagging, 500);\r\n    }\r\n\r\n    pageClickHandler(e) {\r\n        if (e.target.nodeName !== 'LI') {\r\n            return;\r\n        }\r\n        if (document.querySelector('.active-header-nav').classList.contains('search')) {\r\n            this.pubSub.trigger('Swipe:swipeRight', e.target.innerHTML - 1, this.pagesCount);\r\n        }\r\n        const pageNumber = -(e.target.innerHTML - 1);\r\n        this.videoWrapper.style.marginLeft = `${pageNumber * this.slideWidth}px`;\r\n    }\r\n\r\n    controlLimit(currentMargin, marginLimit) {\r\n        this.calculatePagesCount();\r\n        if (currentMargin >= 0) {\r\n            this.videoWrapper.style.marginLeft = '0px';\r\n        } else if (currentMargin < marginLimit) {\r\n            this.videoWrapper.style.marginLeft = `${marginLimit}px`;\r\n        }\r\n    }\r\n\r\n    turnPage(currentMargin, marginLimit) {\r\n        if (currentMargin < this.mouseDownMargin && currentMargin > marginLimit) {\r\n            const nextPageMargin = this.slideNumber * this.slideWidth;\r\n            this.videoWrapper.style.marginLeft = `${nextPageMargin}px`;\r\n            if (document.querySelector('.active-header-nav').classList.contains('search')) {\r\n                this.pubSub.trigger('Swipe:swipeRight', -this.slideNumber, this.pagesCount);\r\n            }\r\n        }\r\n        if (currentMargin > this.mouseDownMargin && currentMargin < 0) {\r\n            const prevPageMargin = (this.slideNumber + 1) * this.slideWidth;\r\n            this.videoWrapper.style.marginLeft = `${prevPageMargin}px`;\r\n        }\r\n    }\r\n\r\n    pagging() {\r\n        if (this.videoWrapper.childElementCount && this.videoWrapper.firstChild.classList.contains('video-info')) {\r\n            this.footerNavUl.parentNode.parentNode.classList.remove('hidden');\r\n        } else {\r\n            return;\r\n        }\r\n        const currentMargin = parseInt(getStyle(this.videoWrapper).marginLeft);\r\n        this.currentPageNumber = Math.round(Math.abs(currentMargin / this.slideWidth));\r\n        const pageNumberListItems = this.footerNavUl.children;\r\n        this.footerNavUl.querySelector('.active-page').classList.remove('active-page');\r\n        if (this.footerNavUl.querySelector('.no-border')) {\r\n            this.footerNavUl.querySelector('.no-border').classList.remove('no-border');\r\n        }\r\n        if (this.currentPageNumber < 3) {\r\n            pageNumberListItems[0].classList.remove('add-pseudo');\r\n            pageNumberListItems[this.currentPageNumber].classList.add('active-page');\r\n            if (pageNumberListItems[this.pagesCount]) {\r\n                pageNumberListItems[this.pagesCount].classList.add('no-border');\r\n            }\r\n            for (let i = 1; i < 4; i++) {\r\n                if (i > this.pagesCount) {\r\n                    pageNumberListItems[i].innerHTML = '';\r\n                } else {\r\n                    pageNumberListItems[i].innerHTML = i + 1;\r\n                }\r\n            }\r\n        } else {\r\n            pageNumberListItems[0].classList.add('add-pseudo');\r\n            for (let i = 1; i < 4; i++) {\r\n                if (this.pagesCount === this.currentPageNumber) {\r\n                    pageNumberListItems[i].innerHTML = this.currentPageNumber - 2 + i;\r\n                    pageNumberListItems[3].classList.add('active-page');\r\n                } else {\r\n                    pageNumberListItems[i].innerHTML = this.currentPageNumber - 1 + i;\r\n                    pageNumberListItems[2].classList.add('active-page');\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default Swipe;\n\n\n// WEBPACK FOOTER //\n// ./src/Swipe.js","export const getStyle = (elem) => {\r\n    return window.getComputedStyle ? getComputedStyle(elem, \"\") : elem.currentStyle;\r\n};\r\n\r\nexport const createElem = (tagName, text, ...classNames) => {\r\n    const tmp = document.createElement(tagName);\r\n    text = text || '';\r\n    if (classNames) {\r\n        tmp.classList.add(...classNames);\r\n    }\r\n    const textNode = document.createTextNode(text);\r\n    tmp.appendChild(textNode);\r\n    return tmp;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","class PubSub {\r\n    constructor() {\r\n        this.subscriptions = {};\r\n    }\r\n\r\n    on(eventName, handler) {\r\n        if (this.subscriptions[eventName]) {\r\n            this.subscriptions[eventName].push(handler);\r\n        } else {\r\n            this.subscriptions[eventName] = [handler];\r\n        }\r\n        return this;\r\n    }\r\n\r\n    trigger(eventName, ...args) {\r\n        if (this.subscriptions[eventName]) {\r\n            this.subscriptions[eventName].forEach((item) => {\r\n                setTimeout(() => item.apply(null, args), 0);\r\n            });\r\n        }\r\n        return this;\r\n    }\r\n\r\n    off(eventName, handler) {\r\n        if (!this.subscriptions[eventName]) {\r\n            return;\r\n        } else {\r\n            let index = this.subscriptions[eventName].indexOf(handler);\r\n            this.subscriptions[eventName].splice(index, 1);\r\n        }\r\n    }\r\n}\r\n\r\nexport default PubSub;\n\n\n// WEBPACK FOOTER //\n// ./src/PubSub.js","import {createElem} from './utils.js';\r\n\r\nclass ElementFactory {\r\n\r\n    createWrapper() {\r\n        const wrapper = createElem('div', null, 'wrapper');\r\n        wrapper.appendChild(this.createHeader());\r\n        wrapper.appendChild(this.createMain());\r\n        wrapper.appendChild(this.createFooter());\r\n        return wrapper;\r\n    }\r\n\r\n    createHeader() {\r\n        const header = createElem('header', null, 'page-header');\r\n        const nav = createElem('nav', null, 'header-nav');\r\n        const ul = document.createElement('ul');\r\n        const liSearch = document.createElement('li')\r\n        const liBookmarks = document.createElement('li')\r\n        const liHistory = document.createElement('li')\r\n        liSearch.appendChild(createElem('span', 'Search now', 'active-header-nav', 'search'));\r\n        liBookmarks.appendChild(createElem('span', 'Bookmarks', 'bookmarks'));\r\n        liHistory.appendChild(createElem('span', 'Search history', 'history'));\r\n        nav.appendChild(ul);\r\n        ul.appendChild(liSearch);\r\n        ul.appendChild(liBookmarks);\r\n        ul.appendChild(liHistory);\r\n        header.appendChild(nav);\r\n        return header;\r\n    }\r\n\r\n    createFooter() {\r\n        const footer = createElem('footer', null, 'page-footer', 'hidden');\r\n        const nav = createElem('nav', null, 'footer-nav');\r\n        const ul = document.createElement('ul');\r\n        ul.appendChild(createElem('li', 1, 'active-page'));\r\n        ul.appendChild(createElem('li'));\r\n        ul.appendChild(createElem('li'));\r\n        ul.appendChild(createElem('li'));\r\n        nav.appendChild(ul);\r\n        footer.appendChild(nav);\r\n        return footer;\r\n    }\r\n\r\n    createMain() {\r\n        const main = document.createElement('main');\r\n        const inputWrapper = createElem('div', null, 'input-wrapper');\r\n        const videoWrapper =  createElem('div', null, 'video-wrapper');\r\n        const span = document.createElement('span');\r\n        const input = document.createElement('input');\r\n        input.setAttribute('type', 'text');\r\n        input.setAttribute('placeholder', 'Search for YouTube videos');\r\n        inputWrapper.appendChild(span);\r\n        inputWrapper.appendChild(input);\r\n        main.appendChild(inputWrapper);\r\n        main.appendChild(videoWrapper);\r\n        return main;\r\n    }\r\n\r\n    createVideoInfo(data, IDs) {\r\n        const article = createElem('article', null, 'video-info');\r\n        const id = typeof data.id === 'string' ? data.id : data.id.videoId;\r\n        if (~IDs.indexOf(id)) {\r\n            article.classList.add('active-bookmark');\r\n        }\r\n        article.setAttribute('id', id);\r\n        const img = document.createElement('img');\r\n        const divDefinition = createElem('div', null, 'defenition');\r\n        const videoTitle = createElem('h2', data.snippet.title, 'video-title'); \r\n        const authorBox = createElem('p', null, 'author-box');\r\n        const author = createElem('span', data.snippet.channelTitle, 'author');\r\n        const videoDate = createElem('span', data.snippet.publishedAt.slice(0,10), 'date');\r\n        const videoDescription = createElem('p', data.snippet.description, 'description');\r\n        const divViews = createElem('div', data.statistics.viewCount, 'views');\r\n        const divLikes = createElem('div', data.statistics.likeCount, 'likes');\r\n        const divBookmark = createElem('div', null, 'bookmark');\r\n        const viewsIcon = createElem('i', null, 'fa', 'fa-eye');\r\n        const likesIcon = createElem('i', null, 'fa', 'fa-thumbs-o-up');\r\n        const bookmarkIcon = createElem('i', null, 'fa', 'fa-bookmark-o');\r\n\r\n        article.appendChild(img);\r\n        article.appendChild(divDefinition);\r\n        article.appendChild(divViews);\r\n        article.appendChild(divLikes);\r\n        article.appendChild(divBookmark);\r\n        authorBox.appendChild(author);\r\n        authorBox.appendChild(videoDate);\r\n        divDefinition.appendChild(videoTitle);\r\n        divDefinition.appendChild(authorBox);\r\n        divDefinition.appendChild(videoDescription);\r\n        divBookmark.appendChild(bookmarkIcon);\r\n        divViews.insertBefore(viewsIcon, divViews.firstChild);\r\n        divLikes.insertBefore(likesIcon, divLikes.firstChild);\r\n\r\n        img.setAttribute('src', data.snippet.thumbnails.medium.url);\r\n        img.setAttribute('alt', data.snippet.title);\r\n        videoTitle.setAttribute('title', data.snippet.title);\r\n        authorBox.setAttribute('title', data.snippet.channelTitle);\r\n        return article;\r\n    }\r\n\r\n    createArticles(articles, IDs) {\r\n        const fragment = document.createDocumentFragment();\r\n        for (var i = 0; i < articles.length; i++) {\r\n            fragment.appendChild(this.createVideoInfo(articles[i], IDs));\r\n        }\r\n        return fragment;\r\n    }\r\n\r\n    createSearchHistoryList() {\r\n        const ul = createElem('ul', null, 'search-list');\r\n        if (!localStorage.getItem('youTubeSearchHistory')) {\r\n            ul.appendChild(createSearchListItem(\r\n                'There is no search history yet, please search some video ; -)'\r\n            ));\r\n            return ul;\r\n        }\r\n        const history = JSON.parse(localStorage.getItem('youTubeSearchHistory'));\r\n        history.reverse();\r\n        for (let i = 0; i < history.length; i++) {\r\n            ul.appendChild(createSearchListItem(history[i][0], history[i][1]));\r\n        }\r\n        return ul;\r\n        function createSearchListItem(text, data) {\r\n            const li = document.createElement('li');\r\n            const searchText = createElem('span', text, 'search-text');\r\n            const searchData = createElem('span', data, 'search-date');\r\n            li.appendChild(searchText);\r\n            li.appendChild(searchData);\r\n            return li;\r\n        }\r\n    }\r\n\r\n    createBookmarksList (articles, IDs) {\r\n        if (!articles.length) {\r\n            const ul = createElem('ul', null, 'search-list');\r\n            ul.appendChild(createElem(\r\n                'li',\r\n                'There is no bookmarks yet, please add some video to bookmarks ; -)'\r\n            ));\r\n            return ul;\r\n        } else {\r\n            return this.createArticles(articles, IDs);\r\n        }\r\n    }\r\n\r\n    createNoSearchResultMessage () {\r\n        const ul = createElem('ul', null, 'search-list');\r\n        ul.appendChild(createElem(\r\n            'li',\r\n            'There is no search result ; -)'\r\n        ));\r\n        return ul;\r\n    }\r\n}\r\n\r\nexport default ElementFactory;\n\n\n// WEBPACK FOOTER //\n// ./src/ElementFactory.js","class ScreenWatcher {\r\n    constructor(pubSub) {\r\n        this.pubSub = pubSub;\r\n        this.resizeHandler = this.resizeHandler.bind(this);\r\n        window.addEventListener('resize', this.resizeHandler);\r\n    }\r\n\r\n    resizeHandler() {\r\n        const screenWidth = this.getScreenWidth();\r\n        this.pubSub.trigger('ScreenWatcher:changeWidth', screenWidth);\r\n    }\r\n\r\n    getScreenWidth() {\r\n        const screenWidth = window.outerWidth;\r\n        if(screenWidth > 1460) {\r\n            return 1460;\r\n        } else if (screenWidth > 1095) {\r\n            return 1095;\r\n        } else if (screenWidth > 730) {\r\n            return 730;\r\n        } else if (screenWidth <= 730) {\r\n            return 365;\r\n        }\r\n    }\r\n}\r\n\r\nexport default ScreenWatcher;\n\n\n// WEBPACK FOOTER //\n// ./src/ScreenWatcher.js","import {getStyle} from './utils.js';\r\n\r\nclass ContentController {\r\n    constructor(elementFactory, dataService, videoWrapper, pubSub) {\r\n        this.elementFactory = elementFactory;\r\n        this.dataService = dataService;\r\n        this.videoWrapper = videoWrapper;\r\n        this.pubSub = pubSub;\r\n        this.videoWrapperContent = [];\r\n        this.currentPageClass = 'search';\r\n        this.pageMargin = 0;\r\n        this.inputSearchHandler = this.inputSearchHandler.bind(this);\r\n        this.inputKeypressHandler = this.inputKeypressHandler.bind(this);\r\n        this.searchHistoryClickHandler = this.searchHistoryClickHandler.bind(this);\r\n        this.searchNowClickHandler = this.searchNowClickHandler.bind(this);\r\n        this.bookmarksClickHandler = this.bookmarksClickHandler.bind(this);\r\n        this.addToBookmarkHandler = this.addToBookmarkHandler.bind(this);\r\n        this.searchFormHistoryHandler = this.searchFormHistoryHandler.bind(this);\r\n        this.openYouTubeVideo = this.openYouTubeVideo.bind(this);\r\n        this.saveLinksToDOMElement();\r\n        this.bindEvents();\r\n    }\r\n\r\n    bindEvents() {\r\n        document.querySelector('main input').addEventListener('keypress', this.inputKeypressHandler);\r\n        this.inputWrapperSpanElement.addEventListener('click', this.inputSearchHandler);\r\n        document.querySelector('.history').addEventListener('click', this.searchHistoryClickHandler);\r\n        this.searchElement.addEventListener('click', this.searchNowClickHandler);\r\n        document.querySelector('.bookmarks').addEventListener('click', this.bookmarksClickHandler);\r\n        this.videoWrapper.addEventListener('click', this.addToBookmarkHandler);\r\n        this.videoWrapper.addEventListener('click', this.searchFormHistoryHandler);\r\n        this.videoWrapper.addEventListener('click', this.openYouTubeVideo);\r\n        this.pubSub.on('Swipe:swipeRight', (currentPage, totalPage) => {\r\n            if (totalPage - currentPage <= 2) {\r\n                this.dataService.getItems(this.searchValue, this.nextPageToken)\r\n                    .then((data) => {\r\n                        const fragment = this.elementFactory.createArticles(data.items, JSON.parse(localStorage.youTubeBookmarks));\r\n                        this.videoWrapper.appendChild(fragment);\r\n                        this.pubSub.trigger('ContentController:newArticles');\r\n                        this.nextPageToken = data.nextPageToken;\r\n                    });\r\n            }\r\n        })\r\n    }\r\n\r\n    saveLinksToDOMElement() {\r\n        this.searchElement = document.querySelector('.search');\r\n        this.inputWrapperSpanElement = document.querySelector('.input-wrapper span');\r\n        this.pageFooterElement = document.querySelector('.page-footer');\r\n        this.inputElement = document.querySelector('input');\r\n    }\r\n\r\n    inputKeypressHandler(e) {\r\n        if (e.keyCode !== 13) {\r\n            return;\r\n        }\r\n        const clickEvent = new Event('click');\r\n        this.inputWrapperSpanElement.dispatchEvent(clickEvent);\r\n        this.searchElement.dispatchEvent(clickEvent);\r\n    }\r\n\r\n    clearContent(saveVideoWrapperContent, className, e) {\r\n        if (e.target.classList.contains(`${className}`) && \r\n            e.target.classList.contains('active-header-nav')\r\n        ) {\r\n            return false;\r\n        }\r\n        if (saveVideoWrapperContent) {\r\n            if (this.currentPageClass === 'search') {\r\n                this.pageMargin = parseInt(getStyle(this.videoWrapper).marginLeft);\r\n            }\r\n            this.videoWrapper.style.marginLeft = '0px';\r\n            if (!this.videoWrapperContent.length) {\r\n                while (this.videoWrapper.firstChild) {\r\n                    this.videoWrapperContent.push(\r\n                        this.videoWrapper.removeChild(this.videoWrapper.firstChild)\r\n                    );\r\n                }\r\n            } else {\r\n                while (this.videoWrapper.firstChild) {\r\n                    this.videoWrapper.removeChild(this.videoWrapper.firstChild);\r\n                }\r\n            }\r\n        } else {\r\n            this.videoWrapper.style.marginLeft = `${this.pageMargin}px`;\r\n            while (this.videoWrapper.firstChild) {\r\n                this.videoWrapper.removeChild(this.videoWrapper.firstChild);\r\n            }\r\n            for (let i = 0; i < this.videoWrapperContent.length; i++) {\r\n                this.videoWrapper.appendChild(this.videoWrapperContent[i]);\r\n            }\r\n            this.videoWrapperContent = [];\r\n        }\r\n        document.querySelector('.active-header-nav').classList.remove('active-header-nav');\r\n        document.querySelector(`.${className}`).classList.add('active-header-nav');\r\n        this.currentPageClass = className;\r\n        this.pageFooterElement.classList.add('hidden');\r\n        return true;\r\n    }\r\n\r\n    searchHistoryClickHandler(e) {\r\n        if (!this.clearContent(true, 'history', e)) {\r\n            return;\r\n        } else {\r\n            const tmp = this.elementFactory.createSearchHistoryList();\r\n            this.videoWrapper.appendChild(tmp);\r\n            this.pubSub.trigger('ContentController:searchHistory');\r\n        }\r\n    }\r\n\r\n    searchNowClickHandler(e) {\r\n        if (!this.clearContent(false, 'search', e)) {\r\n            return;\r\n        } else {\r\n            this.pubSub.trigger('ContentController:searchNow');\r\n        }\r\n    }\r\n\r\n    bookmarksClickHandler(e) {\r\n        if (!this.clearContent(true, 'bookmarks', e)) {\r\n            return;\r\n        } else {\r\n            this.loadBookmarks();\r\n        }\r\n    }\r\n\r\n    loadBookmarks() {\r\n        const videoIDs = JSON.parse(localStorage.youTubeBookmarks);\r\n        if (videoIDs) {\r\n            this.dataService.getVideoInfoById(videoIDs, ['snippet', 'statistics'])\r\n                .then((data) => {\r\n                    const tmp = this.elementFactory.createBookmarksList(data.items, videoIDs);\r\n                    this.videoWrapper.appendChild(tmp);\r\n                    this.pubSub.trigger('ContentController:searchNow');\r\n                });\r\n        } else {\r\n            const tmp = this.elementFactory.createBookmarksList([]);\r\n            this.videoWrapper.appendChild(tmp);\r\n            this.pubSub.trigger('ContentController:searchNow');\r\n        }\r\n    }\r\n\r\n    inputSearchHandler(e) {\r\n        const clickEvent = new Event('click');\r\n        this.searchElement.dispatchEvent(clickEvent);\r\n        this.pubSub.trigger('ContentController:searchNow');\r\n        const val = e.target.nextElementSibling.value;\r\n        if (val === '') {\r\n            return;\r\n        }\r\n        if (this.searchValue === val) {\r\n            return;\r\n        }\r\n        this.videoWrapper.style.marginLeft = '0px';\r\n        while (this.videoWrapper.firstChild) {\r\n            this.videoWrapper.removeChild(this.videoWrapper.firstChild);\r\n        }\r\n        this.dataService.getItems(val)\r\n            .then((data) => {\r\n                if (!data.items.length) {\r\n                    this.pubSub.trigger('ContentController:searchHistory');\r\n                    this.videoWrapper.appendChild(this.elementFactory.createNoSearchResultMessage());\r\n                }\r\n                const fragment = this.elementFactory.createArticles(data.items, JSON.parse(localStorage.youTubeBookmarks));\r\n                this.videoWrapper.appendChild(fragment);\r\n                this.searchValue = val;\r\n                this.pubSub.trigger('ContentController:newArticles');\r\n                this.nextPageToken = data.nextPageToken;\r\n            });\r\n        if (localStorage.youTubeSearchHistory) {\r\n            const tmp = JSON.parse(localStorage.youTubeSearchHistory);\r\n            for (let i = 0; i < tmp.length; i++) {\r\n                if (tmp[i][0] === val) {\r\n                    tmp.splice(i, 1);\r\n                }\r\n            }\r\n            tmp.push([val, (new Date()).toString().substr(0, 25)]);\r\n            if (tmp.length > 13) {\r\n                tmp.splice(0, 1);\r\n            }\r\n            localStorage.setItem('youTubeSearchHistory', JSON.stringify(tmp));\r\n            return;\r\n        }\r\n        const tmp = [];\r\n        tmp[0] = [val, (new Date()).toString().substr(0, 24)];\r\n        localStorage.setItem('youTubeSearchHistory', JSON.stringify(tmp));\r\n    }\r\n\r\n    addToBookmarkHandler(e) {\r\n        if (!e.target.classList.contains('fa-bookmark-o')) {\r\n            return;\r\n        }\r\n        const id = e.target.parentNode.parentNode.id;\r\n        e.target.parentNode.parentNode.classList.toggle('active-bookmark');\r\n        if (localStorage.youTubeBookmarks) {\r\n            const tmp = JSON.parse(localStorage.youTubeBookmarks);\r\n            for (let i = 0; i < tmp.length; i++) {\r\n                if (tmp[i] === id) {\r\n                    tmp.splice(i, 1);\r\n                    localStorage.setItem('youTubeBookmarks', JSON.stringify(tmp));\r\n                    return;\r\n                }\r\n            }\r\n            tmp.push(id);\r\n            localStorage.setItem('youTubeBookmarks', JSON.stringify(tmp));\r\n            return;\r\n        }\r\n        const tmp = [];\r\n        tmp[0] = e.target.parentNode.parentNode.id;\r\n        localStorage.setItem('youTubeBookmarks', JSON.stringify(tmp));\r\n    }\r\n\r\n    searchFormHistoryHandler(e) {\r\n        if (\r\n            !e.target.classList.contains('search-text') &&\r\n            !e.target.classList.contains('search-date')\r\n        ) {\r\n            return;\r\n        }\r\n        if (e.target.classList.contains('search-text')) {\r\n            this.inputElement.value = e.target.innerHTML;\r\n        }\r\n        if (e.target.classList.contains('search-date')) {\r\n            this.inputElement.value = e.target.previousElementSibling.innerHTML;\r\n        }\r\n        const click = new Event('click');\r\n        this.searchElement.dispatchEvent(click);\r\n        this.inputWrapperSpanElement.dispatchEvent(click);\r\n    }\r\n\r\n    openYouTubeVideo(e) {\r\n        if (!e.target.classList.contains('video-title')) {\r\n            return;\r\n        }\r\n        const id = e.target.parentNode.parentNode.id;\r\n        window.open(`https://www.youtube.com/watch?v=${id}`);\r\n    }\r\n}\r\n\r\nexport default ContentController;\n\n\n// WEBPACK FOOTER //\n// ./src/ContentController.js","class DataService {\r\n    getVideoInfoByQuery(val, nextPage) {\r\n        return new Promise((resolve, reject) => {\r\n            const xhr = new XMLHttpRequest();\r\n            if (nextPage) {\r\n                xhr.open(\r\n                    'GET',\r\n                    'https://www.googleapis.com/youtube/v3/search?' +\r\n                    'key=AIzaSyCTWC75i70moJLzyNh3tt4jzCljZcRkU8Y&' +\r\n                    'type=video&' +\r\n                    'part=snippet&'+\r\n                    'maxResults=15&' +\r\n                    `pageToken=${nextPage}&` +\r\n                    `q=${val}?`,\r\n                    true\r\n                );\r\n            } else {\r\n                xhr.open(\r\n                    'GET',\r\n                    'https://www.googleapis.com/youtube/v3/search?' +\r\n                    'key=AIzaSyCTWC75i70moJLzyNh3tt4jzCljZcRkU8Y&' +\r\n                    'type=video&' +\r\n                    'part=snippet&' +\r\n                    'maxResults=15&' +\r\n                    `q=${val}?`,\r\n                    true\r\n                );\r\n            }\r\n            xhr.send();\r\n            xhr.onreadystatechange = () => {\r\n                if (xhr.readyState !== 4) {\r\n                    return;\r\n                }\r\n                resolve(JSON.parse(xhr.responseText));\r\n            };\r\n        });\r\n    }\r\n\r\n    getVideoInfoById(idMovies, part) {\r\n        return new Promise((resolve, reject) => {\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.open(\r\n                'GET',\r\n                'https://www.googleapis.com/youtube/v3/videos?' +\r\n                'key=AIzaSyCTWC75i70moJLzyNh3tt4jzCljZcRkU8Y&' +\r\n                `part=${part}&` +\r\n                `id=${idMovies}`,\r\n                true\r\n            );\r\n            xhr.send();\r\n            xhr.onreadystatechange = () => {\r\n                if (xhr.readyState !== 4) {\r\n                    return;\r\n                }\r\n                resolve(JSON.parse(xhr.responseText));\r\n            };\r\n        });\r\n    }\r\n\r\n    getItems(val, nextPage) {\r\n        return this.getVideoInfoByQuery(val, nextPage)\r\n            .then((data) => {\r\n                const items = data.items;\r\n                const ids = items.map(item => item.id.videoId);\r\n                const nextPageToken = data.nextPageToken;\r\n                return this.getVideoInfoById(ids, 'statistics')\r\n                    .then((_data) => {\r\n                        const _items = _data.items;\r\n                        for (var i = 0; i < items.length; i++) {\r\n                            items[i].statistics = _items[i].statistics;\r\n                        }\r\n                        return {\r\n                            items,\r\n                            nextPageToken,\r\n                        };\r\n                    });\r\n            })\r\n    }\r\n}\r\n\r\nexport default DataService;\n\n\n// WEBPACK FOOTER //\n// ./src/DataService.js"],"sourceRoot":""}